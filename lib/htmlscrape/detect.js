define([],function(){return htmlscrape_detect=function(_){if(!_)return!1;var t=_;switch(!0){case!t.callbacks:case!t.callbacks.finished:case!t.window:case!t.window.document:case!t.window.document.body:case!t.jQuery:return t.debug&&(console.log(!t.callbacks),console.log(!t.callbacks.finished),console.log(!t.window),console.log(!t.window.document),console.log(!t.window.document.body),console.log(!t.jQuery)),!1}t.document=t.window.document,t.settings||(t.settings={});var e=function(_,e){t.settings[_]||(t.settings[_]=e)};e("articleTitleMarker__start",'<div id="articleHeader"><h1 id="articleHeader__title">'),e("articleTitleMarker__end",'</h1><div id="articleHeader__separator"></div></div>');var n=t.jQuery;if(t.$window=n(t.window),t.$document=n(t.document),t.language="general",t.domainName=t.window.location.hostname,t.domainNameIs__wikipedia=null!=t.domainName.match(/wikipedia.org$/gi),t.domainNameIs__wsj=null!=t.domainName.match(/wsj.com$/gi),t.parseOptions={_elements_ignore:"|button|input|select|textarea|optgroup|command|datalist|--|frame|frameset|noframes|--|style|link|script|noscript|--|canvas|applet|map|--|marquee|area|base|",_elements_ignore_tag:"|form|fieldset|details|dir|--|center|font|",_elements_container:"|body|--|article|section|--|div|--|td|--|li|--|dd|dt|",_elements_self_closing:"|br|hr|--|img|--|col|--|source|--|embed|param|",_elements_visible:"|article|section|--|ul|ol|li|dd|--|table|tr|td|--|div|--|p|--|h1|h2|h3|h4|h5|h6|--|span|",_elements_too_much_content:"|b|i|em|strong|--|h1|h2|h3|h4|h5|--|td|",_elements_link_density:"|div|--|table|ul|ol|--|section|aside|header|",_elements_floating:"|div|--|table|",_elements_above_target_ignore:"|br|--|ul|ol|dl|--|table|",_elements_with_src:"|img|video|audio|source|embed|iframe|",_unskippable_attribute:"clearly__unskippable_element",_unskippable_attribute_value:"yes",_use_document_title_attribute:"clearly__use_document_title_as_article_title",_use_document_title_attribute_value:"yes",_find_this_in_page_attribute:"",_elements_keep_attributes:{a:["href","title","name"],img:["src","width","height","alt","title"],video:["src","width","height","poster","audio","preload","autoplay","loop","controls"],audio:["src","preload","autoplay","loop","controls"],source:["src","type"],object:["data","type","width","height","classid","codebase","codetype"],param:["name","value"],embed:["src","type","width","height","flashvars","allowscriptaccess","allowfullscreen","bgcolor"],iframe:["src","width","height","frameborder","scrolling"],td:["colspan","rowspan"],th:["colspan","rowspan"]},_skip_link_from_domain:["doubleclick.net","fastclick.net","adbrite.com","adbureau.net","admob.com","bannersxchange.com","buysellads.com","impact-ad.jp","atdmt.com","advertising.com","serving-sys.com","itmedia.jp","microad.jp","adplan-ds.com"],_skip_image_from_domain:["googlesyndication.com","fastclick.net",".2mdn.net","de17a.com","content.aimatch.com","bannersxchange.com","buysellads.com","atdmt.com","advertising.com","serving-sys.com","impact-ad.jp","itmedia.jp","microad.jp","adplan-ds.com"],_keep_video_from_domain:["youtube.com","youtube-nocookie.com","vimeo.com","hulu.com","flickr.com","yahoo.com","newsnetz.ch"]},t.debug=t.debug||!1,t.debugRemembered={},t.debugTimers=[],t.debug){switch(!0){case!(!t.window.console||!t.window.console.log):t.logOneline=function(_){t.window.console.log(_)};break;case!(!t.window.opera||!t.window.opera.postError):t.logOneline=function(_){t.window.opera.postError(_)};break;default:t.logOneline=function(){}}t.log=function(){if(t.debug){for(var _=0,e=arguments.length;e>_;_++)t.logOneline(arguments[_]);t.logOneline("-----------------------------------------")}},t.debugRemember=function(_,e){t.debugRemembered[_]=e},t.debugOutline=function(_,e,a){var i="#ff5500",o="rgba(255, 85, 0, 0.5)";switch(!0){case!t.debug:case!(1===_.nodeType):case!(_.tagName>""):case"object"==_.tagName.toLowerCase():case"embed"==_.tagName.toLowerCase():return}switch(!0){case"target"==e&&"first"==a:i="#00cc00",o="rgba(0, 255, 0, 0.5)";break;case"target"==e&&"second"==a:i="#0000cc",o="rgba(0, 0, 255, 0.5)";break;case"target"==e&&"next-page"==a:i="#FF80C0",o="rgba(255, 128, 192, 0.5)";break;case"target"==e&&"add-above"==a:i="#804000",o="rgba(128, 64, 0, 0.5)";break;case"clean-before"==e&&"floating"==a:i="#808080",o="rgba(128, 128, 128, 0.5)";break;case"clean-after"==e&&"missing-density"==a:i="#C0C0C0",o="rgba(192, 192, 192, 0.5)";break;case"clean-after"==e||"clean-before"==e:i="#000000",o="rgba(0, 0, 0, 0.5)"}n(_).attr("readable__outline",e+": "+a),n(_).css({outline:"5px solid "+i,"background-color":""+o})},t.debugTimerStart=function(_){t.debugTimers.push({name:_,start:(new Date).getTime()})},t.debugTimerEnd=function(){var _=t.debugTimers.pop(),e=(new Date).getTime()-_.start;return t.log("TIMER / "+_.name+": "+e),e}}else t.logOneline=function(){return!1},t.log=function(){return!1},t.debugRemember=function(){return!1},t.debugOutline=function(){return!1},t.debugTimerStart=function(){return!1},t.debugTimerEnd=function(){return!1};return t.escape_html=function(_){var t={"&":"amp",'"':"quot","<":"lt",">":"gt"};return _&&_.replace?_.replace(/[&"<>]/g,function(_){return"&"+t[_]+";"}):""},t.rand=function(_,t){return Math.floor(Math.random()*(t-_+1))+_},t.detectLanguage=function(){for(var _=t.document.title,e=function(e){if(!(_.length>500))for(var n=e.length,a=0,i=Math.min(5,n);i>a;a++)_+=" "+e[t.rand(1,n)-1].innerHTML.replace(/<([^>]+?)>/gi,"").replace(/([ \n\r\t]+)/gi," ").substr(0,150)},n=t.document.getElementsByTagName("p"),a=t.document.getElementsByTagName("span"),i=t.document.getElementsByTagName("div"),o=[t.document.body],s=[],r=0,l=i.length;l>r;r++)i[r].id&&i[r].id.indexOf&&0===i[r].id.indexOf("evernote_clearly__")||s.push(i[r]);switch(i=s,e(n),e(a),e(i),e(o),!0){case null!=_.match(/([\u3000])/gi):case null!=_.match(/([\u3001])/gi):case null!=_.match(/([\u3002])/gi):case null!=_.match(/([\u301C])/gi):t.language="cjk"}},t.rtl=!1,t.maybeRTL=!1,t.makeRTL=function(){t.rtl=!0},t.makeNotRTL=function(){t.rtl=!1},function(){return t.$document.find("html, body").each(function(_,e){switch(!0){case"rtl"==n(e).attr("dir"):case"rtl"==n(e).css("direction"):case"he"==n(e).attr("lang"):case"he-il"==n(e).attr("lang"):case"ar"==n(e).attr("lang"):case"ur"==n(e).attr("lang"):return t.makeRTL(),!1}return!1}),!t.rtl&&t.$document.find("div[dir='rtl'], table[dir='rtl'], td[dir='rtl']").length>0&&(t.maybeRTL=!0),!1}(),t.measureText__getTextLength=function(_){var t=_;return t=t.replace(/[\s\n\r]+/gi,""),t.length},t.measureText__getWordCount=function(_){var t=_;t=t.replace(/[\s\n\r]+/gi," "),t=t.replace(/([.,?!:;()\[\]'""-])/gi," $1 "),t=t.replace(/([\u3000])/gi,"[=words(1)]"),t=t.replace(/([\u3001])/gi,"[=words(2)]"),t=t.replace(/([\u3002])/gi,"[=words(4)]"),t=t.replace(/([\u301C])/gi,"[=words(2)]"),t=t.replace(/([\u2026|\u2025])/gi,"[=words(2)]"),t=t.replace(/([\u30FB\uFF65])/gi,"[=words(1)]"),t=t.replace(/([\u300C\u300D])/gi,"[=words(1)]"),t=t.replace(/([\u300E\u300F])/gi,"[=words(1)]"),t=t.replace(/([\u3014\u3015])/gi,"[=words(1)]"),t=t.replace(/([\u3008\u3009])/gi,"[=words(1)]"),t=t.replace(/([\u300A\u300B])/gi,"[=words(1)]"),t=t.replace(/([\u3010\u3011])/gi,"[=words(1)]"),t=t.replace(/([\u3016\u3017])/gi,"[=words(1)]"),t=t.replace(/([\u3018\u3019])/gi,"[=words(1)]"),t=t.replace(/([\u301A\u301B])/gi,"[=words(1)]"),t=t.replace(/([\u301D\u301E\u301F])/gi,"[=words(1)]"),t=t.replace(/([\u30A0])/gi,"[=words(1)]");var e=0,n=t.match(/([^\s\d]{3,})/gi);return e+=null!=n?n.length:0,t.replace(/\[=words\((\d)\)\]/,function(_,t){e+=5*parseInt(t,10)}),e},t.levenshteinDistance=function(_,t){var e=_.length,n=t.length,a=0,i=0,o=[];if(0===Math.min(e,n))return Math.max(e,n);for(a=0;e>=a;a++)o[a]=[],o[a][0]=a;for(i=0;n>=i;i++)o[0][i]=i;for(a=1;e>=a;a++)for(i=1;n>=i;i++)o[a][i]=Math.min(o[a-1][i]+1,o[a][i-1]+1,o[a-1][i-1]+(_.charAt(a-1)===t.charAt(i-1)?0:1));return o[e][n]},t.nextPage__getFirstFragment=function(_){return _=_.replace(/<[^>]+?>/gi,""),_=_.replace(/\s+/gi," "),_.substr(0,2e3)},t.isNodeHidden=function(_,t){if("span"==t)return!1;switch(!0){case _.offsetWidth>0:case _.offsetHeight>0:break;default:switch(!0){case _.offsetLeft>0:case _.offsetTop>0:break;default:if("div"==t&&"inline"==(_.style.display||n.css(_,"display")))break;return!0}}return!1},t.getContent__computePointsForCandidate__do=function(_,t,e,n){var a=n[0]*_,i=n[0]-a;0>e?_points_return=a:_points_return=0+a+i*Math.pow(e,t),n.unshift(_points_return)},t.getContent__computeDetailsForCandidate__first=function(_,t){var e={};if(_._is__bad)return e;e._count__lines_of_65_characters=_._length__plain_text/65,e._count__paragraphs_of_3_lines=e._count__lines_of_65_characters/3,e._count__paragraphs_of_5_lines=e._count__lines_of_65_characters/5,e._count__paragraphs_of_50_words=_._count__plain_words/50,e._count__paragraphs_of_80_words=_._count__plain_words/80,e._ratio__length__plain_text_to_total_plain_text=_._length__plain_text/t._length__plain_text,e._ratio__count__plain_words_to_total_plain_words=_._count__plain_words/t._count__plain_words,e._ratio__length__links_text_to_plain_text=_._length__links_text/_._length__plain_text,e._ratio__count__links_words_to_plain_words=_._count__links_words/_._count__plain_words,e._ratio__length__links_text_to_all_text=_._length__links_text/_._length__all_text,e._ratio__count__links_words_to_all_words=_._count__links_words/_._count__all_words,e._ratio__length__links_text_to_total_links_text=_._length__links_text/(t._length__links_text+1),e._ratio__count__links_words_to_total_links_words=_._count__links_words/(t._count__links_words+1),e._ratio__count__links_to_total_links=_._count__links/(t._count__links+1),e._ratio__count__links_to_plain_words=2*_._count__links/_._count__plain_words;var n=Math.max(2,Math.ceil(.5*_._count__above_candidates)),a=(1*_._length__above_plain_text+_._length__above_plain_text/n)/2,i=(1*_._count__above_plain_words+_._count__above_plain_words/n)/2;return e._ratio__length__above_plain_text_to_total_plain_text=a/t._length__plain_text,e._ratio__count__above_plain_words_to_total_plain_words=i/t._count__plain_words,e._ratio__count__candidates_to_total_candidates=_._count__candidates/(t._count__candidates+1),e._ratio__count__containers_to_total_containers=_._count__containers/(t._count__containers+1),e},t.getContent__computePointsForCandidate__first=function(_,e){var n=_.__candidate_details,a=[],i=e._length__plain_text/65>250;if(_._is__bad)return[0];if(a.unshift(1e3*(0+n._count__paragraphs_of_3_lines+1.5*n._count__paragraphs_of_5_lines+n._count__paragraphs_of_50_words+1.5*n._count__paragraphs_of_80_words+3*_._count__images_large-.5*(_._count__images_skip+_._count__images_small))),a[0]<0)return[0];var o=Math.max(5,Math.ceil(.25*_._count__pieces)),s=Math.max(5,Math.ceil(.25*_._count__candidates)),r=Math.max(10,Math.ceil(.25*_._count__containers));a.unshift((0+3*a[0]+a[0]/o+a[0]/s+a[0]/r)/6),t.getContent__computePointsForCandidate__do(.1,2,1-(1-n._ratio__length__plain_text_to_total_plain_text),a),t.getContent__computePointsForCandidate__do(.1,2,1-(1-n._ratio__count__plain_words_to_total_plain_words),a),i&&(t.getContent__computePointsForCandidate__do(.1,4,1-(1-n._ratio__length__plain_text_to_total_plain_text),a),t.getContent__computePointsForCandidate__do(.1,4,1-(1-n._ratio__count__plain_words_to_total_plain_words),a)),t.getContent__computePointsForCandidate__do(.1,5,1-n._ratio__length__above_plain_text_to_total_plain_text,a),t.getContent__computePointsForCandidate__do(.1,5,1-n._ratio__count__above_plain_words_to_total_plain_words,a),i&&(t.getContent__computePointsForCandidate__do(.1,10,1-n._ratio__length__above_plain_text_to_total_plain_text,a),t.getContent__computePointsForCandidate__do(.1,10,1-n._ratio__count__above_plain_words_to_total_plain_words,a)),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__length__links_text_to_total_links_text,a),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__count__links_words_to_total_links_words,a),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__count__links_to_total_links,a);var l="cjk"==t.language?.75:.5;return t.getContent__computePointsForCandidate__do(l,1,1-n._ratio__length__links_text_to_plain_text,a),t.getContent__computePointsForCandidate__do(l,1,1-n._ratio__count__links_words_to_plain_words,a),t.getContent__computePointsForCandidate__do(l,1,1-n._ratio__length__links_text_to_all_text,a),t.getContent__computePointsForCandidate__do(l,1,1-n._ratio__count__links_words_to_all_words,a),t.getContent__computePointsForCandidate__do(l,1,1-n._ratio__count__links_to_plain_words,a),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__count__candidates_to_total_candidates,a),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__count__containers_to_total_containers,a),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__count__pieces_to_total_pieces,a),a},t.getContent__processCandidates__first=function(_){var e=_;e.sort(function(_,t){switch(!0){case _.__index<t.__index:return-1;case _.__index>t.__index:return 1;default:return 0}});var a=e[0];t.debug&&t.log("should be body",a,a.__node);for(var i=0,o=e.length;o>i;i++){for(var s=0,r=[],l=i,d=e.length;d>l;l++)e[l]._count__candidates>0||n.contains(e[i].__node,e[l].__node)&&(t.debug&&r.push(e[l]),s++);e[i].__candidate_details=t.getContent__computeDetailsForCandidate__first(e[i],a),e[i]._count__pieces=s,e[i]._array__pieces=r,e[i].__candidate_details._ratio__count__pieces_to_total_pieces=s/(e[0]._count__pieces+1),e[i].__points_history=t.getContent__computePointsForCandidate__first(e[i],a),e[i].__points=e[i].__points_history[0]}return e.sort(function(_,t){switch(!0){case _.__points>t.__points:return-1;case _.__points<t.__points:return 1;default:return 0}}),e},t.getContent__computePointsForCandidate__second=function(_){var e=_.__candidate_details,n=_.__candidate_details_second,a=[];if(_._is__bad)return[0];a.unshift(_.__points_history[_.__points_history.length-1]);var i=Math.max(5,Math.ceil(.25*_._count__pieces)),o=Math.max(5,Math.ceil(.25*_._count__candidates)),s=Math.max(10,Math.ceil(.25*_._count__containers));a.unshift((0+3*a[0]+a[0]/i*2+a[0]/o*2+a[0]/s*2)/9),t.getContent__computePointsForCandidate__do(.5,1,1-(1-n._ratio__length__plain_text_to_total_plain_text),a),t.getContent__computePointsForCandidate__do(.5,1,1-(1-n._ratio__count__plain_words_to_total_plain_words),a);var r="cjk"==t.language?.5:.1;t.getContent__computePointsForCandidate__do(r,1,1-n._ratio__length__above_plain_text_to_total_plain_text,a),t.getContent__computePointsForCandidate__do(r,1,1-n._ratio__count__above_plain_words_to_total_plain_words,a),t.getContent__computePointsForCandidate__do(r,1,1-n._ratio__length__above_plain_text_to_plain_text,a),t.getContent__computePointsForCandidate__do(r,1,1-n._ratio__count__above_plain_words_to_plain_words,a),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__count__links_to_total_links,a),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__length__links_text_to_total_links_text,a),t.getContent__computePointsForCandidate__do(.75,1,1-n._ratio__count__links_words_to_total_links_words,a);var l="cjk"==t.language?.75:.5;return t.getContent__computePointsForCandidate__do(l,1,1-e._ratio__length__links_text_to_plain_text,a),t.getContent__computePointsForCandidate__do(l,1,1-e._ratio__count__links_words_to_plain_words,a),t.getContent__computePointsForCandidate__do(l,1,1-n._ratio__length__links_text_to_all_text,a),t.getContent__computePointsForCandidate__do(l,1,1-n._ratio__count__links_words_to_all_words,a),t.getContent__computePointsForCandidate__do(l,1,1-n._ratio__count__links_to_plain_words,a),t.getContent__computePointsForCandidate__do(.1,2,1-n._ratio__count__candidates_to_total_candidates,a),t.getContent__computePointsForCandidate__do(.1,2,1-n._ratio__count__containers_to_total_containers,a),t.getContent__computePointsForCandidate__do(.1,2,1-n._ratio__count__pieces_to_total_pieces,a),a},t.getContent__computeDetailsForCandidate__second=function(_,t){var e={};if(_._is__bad)return e;e._ratio__length__plain_text_to_total_plain_text=_._length__plain_text/t._length__plain_text,e._ratio__count__plain_words_to_total_plain_words=_._count__plain_words/t._count__plain_words,e._ratio__length__links_text_to_all_text=_._length__links_text/_._length__all_text,e._ratio__count__links_words_to_all_words=_._count__links_words/_._count__all_words,e._ratio__length__links_text_to_total_links_text=_._length__links_text/(t._length__links_text+1),e._ratio__count__links_words_to_total_links_words=_._count__links_words/(t._count__links_words+1),e._ratio__count__links_to_total_links=_._count__links/(t._count__links+1),e._ratio__count__links_to_plain_words=2*_._count__links/_._count__plain_words;var n=Math.max(2,Math.ceil(.5*(_._count__above_candidates-t._count__above_candidates))),a=(1*_.__second_length__above_plain_text+_.__second_length__above_plain_text/n)/2,i=(1*_.__second_count__above_plain_words+_.__second_count__above_plain_words/n)/2;return e._ratio__length__above_plain_text_to_total_plain_text=a/t._length__plain_text,e._ratio__count__above_plain_words_to_total_plain_words=i/t._count__plain_words,e._ratio__length__above_plain_text_to_plain_text=a/_._length__plain_text,e._ratio__count__above_plain_words_to_plain_words=i/_._count__plain_words,e._ratio__count__candidates_to_total_candidates=Math.max(0,_._count__candidates-.25*t._count__candidates)/(t._count__candidates+1),e._ratio__count__containers_to_total_containers=Math.max(0,_._count__containers-.25*t._count__containers)/(t._count__containers+1),e._ratio__count__pieces_to_total_pieces=Math.max(0,_._count__pieces-.25*t._count__pieces)/(t._count__pieces+1),e},t.getContent__processCandidates__second=function(_){var e=_,a=e[0];e=n.map(e,function(_,t){switch(!0){case!(t>0):case!n.contains(a.__node,_.__node):return null;default:return _}}),e.unshift(a),e.sort(function(_,t){switch(!0){case _.__index<t.__index:return-1;case _.__index>t.__index:return 1;default:return 0}});for(var i=0,o=e.length;o>i;i++)e[i].__second_length__above_plain_text=e[i]._length__above_plain_text-a._length__above_plain_text,e[i].__second_count__above_plain_words=e[i]._count__above_plain_words-a._count__above_plain_words,e[i].__candidate_details_second=t.getContent__computeDetailsForCandidate__second(e[i],a),e[i].__points_history_second=t.getContent__computePointsForCandidate__second(e[i],a),e[i].__points_second=e[i].__points_history_second[0];return e.sort(function(_,t){switch(!0){case _.__points_second>t.__points_second:return-1;case _.__points_second<t.__points_second:return 1;default:return 0}}),e},t.getContent__computePointsForCandidate__third=function(_){var e=_.__candidate_details,n=_.__candidate_details_second,a=[];if(_._is__bad)return[0];a.unshift(_.__points_history[_.__points_history.length-1]);var i=Math.max(2,Math.ceil(.25*_._count__pieces)),o=Math.max(2,Math.ceil(.25*_._count__candidates)),s=Math.max(4,Math.ceil(.25*_._count__containers));return a.unshift((0+3*a[0]+a[0]/i*2+a[0]/o*2+a[0]/s*2)/9),t.getContent__computePointsForCandidate__do(.75,1,1-(1-n._ratio__length__plain_text_to_total_plain_text),a),t.getContent__computePointsForCandidate__do(.75,1,1-(1-n._ratio__count__plain_words_to_total_plain_words),a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__length__above_plain_text_to_total_plain_text,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__count__above_plain_words_to_total_plain_words,a),t.getContent__computePointsForCandidate__do(.1,1,1-n._ratio__length__above_plain_text_to_total_plain_text,a),t.getContent__computePointsForCandidate__do(.1,1,1-n._ratio__count__above_plain_words_to_total_plain_words,a),t.getContent__computePointsForCandidate__do(.1,1,1-n._ratio__length__above_plain_text_to_plain_text,a),t.getContent__computePointsForCandidate__do(.1,1,1-n._ratio__count__above_plain_words_to_plain_words,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__length__links_text_to_all_text,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__count__links_words_to_all_words,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__length__links_text_to_plain_text,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__count__links_words_to_plain_words,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__count__links_to_plain_words,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__count__candidates_to_total_candidates,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__count__containers_to_total_containers,a),t.getContent__computePointsForCandidate__do(.5,1,1-e._ratio__count__pieces_to_total_pieces,a),a},t.getContent__exploreNodeAndGetStuff=function(_,e){var a=0,i=!1,o=0,s=0,r=0,l=0,d=0,c=0,u=0,g="",p="",m=[],h=[],f=[],b=function(_){a++;var x=3===_.nodeType?"#text":1===_.nodeType&&_.tagName&&_.tagName>""?_.tagName.toLowerCase():"#invalid",k={__index:a,__node:_,_is__container:t.parseOptions._elements_container.indexOf("|"+x+"|")>-1,_is__candidate:!1,_is__text:!1,_is__link:!1,_is__link_skip:!1,_is__image_small:!1,_is__image_medium:!1,_is__image_large:!1,_is__image_skip:!1,_is__unskippable:!1,_debug__above__plain_text:g,_debug__above__links_text:p,_length__above_plain_text:s,_count__above_plain_words:r,_length__above_links_text:l,_count__above_links_words:d,_length__above_all_text:s+l,_count__above_all_words:r+d,_count__above_candidates:c,_count__above_containers:u,_length__plain_text:0,_count__plain_words:0,_length__links_text:0,_count__links_words:0,_length__all_text:0,_count__all_words:0,_count__containers:0,_count__candidates:0,_count__links:0,_count__links_skip:0,_count__images_small:0,_count__images_medium:0,_count__images_large:0,_count__images_skip:0};if(k._is__container||t.parseOptions._elements_self_closing.indexOf("|"+x+"|")>-1){var w=_.getAttribute(t.parseOptions._unskippable_attribute);w==t.parseOptions._unskippable_attribute_value&&(k._is__unskippable=!0)}switch(!0){case"#invalid"==x:case t.parseOptions._elements_ignore.indexOf("|"+x+"|")>-1:return!1;case t.parseOptions._elements_visible.indexOf("|"+x+"|")>-1:if(t.isNodeHidden(_,x))return!1;break;case t.parseOptions._elements_self_closing.indexOf("|"+x+"|")>-1:switch(!0){case"img"==x:break;default:return!1}}switch(!0){case"#text"==x:k._is__text=!0;var C=_.nodeValue;return k._length__plain_text=t.measureText__getTextLength(C),k._count__plain_words=t.measureText__getWordCount(C),i?(l+=k._length__plain_text,d+=k._count__plain_words):(s+=k._length__plain_text,r+=k._count__plain_words),k;case"a"==x:var v=_.href;if(!(v>""))break;if(!v.indexOf)break;k._is__link=!0;for(var T=0,O=t.parseOptions._skip_link_from_domain.length;O>T;T++)if(_.href.indexOf(t.parseOptions._skip_link_from_domain[T])>-1){k._is__link_skip=!0;break}i||(i=!0,o=k.__index),f.push(k);break;case"img"==x:if(_.src&&_.src.indexOf)for(var T=0,O=t.parseOptions._skip_image_from_domain.length;O>T;T++)if(_.src.indexOf(t.parseOptions._skip_image_from_domain[T])>-1){k._is__image_skip=!0;break}var F=n(_).width(),y=n(_).height();switch(!0){case F*y>=5e4:case F>=350&&y>=75:k._is__image_large=!0;break;case F*y>=2e4:case F>=150&&y>=150:k._is__image_medium=!0;break;case 5>=F&&5>=y:k._is__image_skip=!0;break;default:k._is__image_small=!0}}for(var T=0,O=_.childNodes.length;O>T;T++){var M=_.childNodes[T],P=b(M);if(P)switch(k._count__links+=P._count__links+(P._is__link?1:0),k._count__links_skip+=P._count__links_skip+(P._is__link_skip?1:0),k._count__images_small+=P._count__images_small+(P._is__image_small?1:0),k._count__images_medium+=P._count__images_medium+(P._is__image_medium?1:0),k._count__images_large+=P._count__images_large+(P._is__image_large?1:0),k._count__images_skip+=P._count__images_skip+(P._is__image_skip?1:0),k._count__containers+=P._count__containers+(P._is__container?1:0),k._count__candidates+=P._count__candidates+(P._is__candidate?1:0),k._length__all_text+=P._length__plain_text+P._length__links_text,k._count__all_words+=P._count__plain_words+P._count__links_words,!0){case P._is__link:k._length__links_text+=P._length__plain_text+P._length__links_text,k._count__links_words+=P._count__plain_words+P._count__links_words;break;default:k._length__plain_text+=P._length__plain_text,k._count__plain_words+=P._count__plain_words,k._length__links_text+=P._length__links_text,k._count__links_words+=P._count__links_words}}if(k._is__link&&o==k.__index&&(i=!1,o=0),k._is__container||1==k.__index&&1==e)if(m.push(k),k._is__container&&u++,e);else{switch(!0){case"cjk"!=t.language&&2*k._count__links>=k._count__plain_words:case"cjk"!=t.language&&k._length__plain_text<65/3:case"cjk"!=t.language&&k._count__plain_words<5:case"cjk"==t.language&&k._length__plain_text<10:case"cjk"==t.language&&k._count__plain_words<2:break;default:k._is__candidate=!0,h.push(k),c++}1!=k.__index||k._is__candidate||(k._is__candidate=!0,k._is__bad=!0,h.push(k))}return k};return b(_),e?m.pop():{_containers:m,_candidates:h,_links:f}},t.getContent__buildHTMLForNode=function(_,e){var a=0,i="",o=t.getContent__exploreNodeAndGetStuff(_,!0);switch(e){case"above-the-target":o=!1}var s=function(_){a++;var r=!1,l=3===_.nodeType?"#text":1===_.nodeType&&_.tagName&&_.tagName>""?_.tagName.toLowerCase():"#invalid",d=0,c=0,u=0,g=0;switch(!0){case"#invalid"==l:case t.parseOptions._elements_ignore.indexOf("|"+l+"|")>-1:return;case"#text"==l:return void(i+=_.nodeValue.replace(/</gi,"&lt;").replace(/>/gi,"&gt;"))}if(!(t.parseOptions._elements_visible.indexOf("|"+l+"|")>-1&&t.isNodeHidden(_,l))){switch(l){case"object":case"embed":case"iframe":var p="object"==l?n(_).find("param[name='movie']").attr("value"):n(_).attr("src"),m=p>""?!1:!0;if(m);else{m=!0;for(var h=0,f=t.parseOptions._keep_video_from_domain.length;f>h;h++)if(p.indexOf(t.parseOptions._keep_video_from_domain[h])>-1){m=!1;break}}if(m&&(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),!r||!r._is__unskippable))return void t.debugOutline(_,"clean-before","object-embed-iframe")}if("a"==l||"li"==l)if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else switch(!0){case r._is__link_skip:case r._count__images_small+r._count__images_skip>0&&r._length__plain_text<65:return void t.debugOutline(_,"clean-before","skip-link")}if(t.parseOptions._elements_link_density.indexOf("|"+l+"|")>-1)if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else switch(!0){case r._length__plain_text>390:case"cjk"==t.language&&r._length__plain_text>195:case!(r._count__links>1):case o&&r._length__plain_text/o._length__plain_text>.5:case o&&r._count__plain_words/o._count__plain_words>.5:case 0==r._length__plain_text&&1==r._count__links&&r._length__links_text<65:case r._length__plain_text<25&&r._count__images_large+r._count__images_medium>0:break;case r._length__links_text/r._length__all_text<.5:if(!(r._count__links>0))break;if(!(r._count__links_skip>0))break;if(r._count__links_skip/r._count__links>.25&&r._length__links_text/r._length__all_text<.05)break;default:return void t.debugOutline(_,"clean-before","link-density")}if(t.parseOptions._elements_floating.indexOf("|"+l+"|")>-1)if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else switch(!0){case r._length__plain_text>390:case"cjk"==t.language&&r._length__plain_text>195:case o&&r._length__plain_text/o._length__plain_text>.25:case o&&r._count__plain_words/o._count__plain_words>.25:case r._length__plain_text<25&&r._length__links_text<25&&r._count__images_large+r._count__images_medium>0:case _.getElementsByTagName&&r._length__plain_text<195&&_.getElementsByTagName("h1").length+_.getElementsByTagName("h2").length+_.getElementsByTagName("h3").length+_.getElementsByTagName("h4").length>0:break;default:var b=n(_).css("float");if("left"!=b&&"right"!=b)break;if(0==r._length__links_text&&r._count__images_large+r._count__images_medium>0)break;return void t.debugOutline(_,"clean-before","floating")}if("above-the-target"==e){if(t.parseOptions._elements_above_target_ignore.indexOf("|"+l+"|")>-1&&(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),!r||!r._is__unskippable))return void t.debugOutline(_,"clean-before","above-target");if("img"==l)if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else if(!r._is__image_large)return void t.debugOutline(_,"clean-before","above-target")}if(null!=l.match(/^h(1|2|3|4|5|6)$/gi))if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else switch(!0){case r._length__plain_text<10&&r._count__images_small+r._count__images_medium+r._count__images_large+r._count__images_skip>0:return void t.debugOutline(_,"clean-before","skip-heading")}if(t.parseOptions._elements_ignore_tag.indexOf("|"+l+"|")>-1);else{if(d=i.length,i+="<"+l,l in t.parseOptions._elements_keep_attributes)for(var h=0,f=t.parseOptions._elements_keep_attributes[l].length;f>h;h++){var x=t.parseOptions._elements_keep_attributes[l][h],k=_.getAttribute(x);if(("src"==x||"href"==x)&&("a"==l||t.parseOptions._elements_with_src.indexOf("|"+l+"|")>-1))switch(!0){case!("src"!=x||!_.src):k=_.src;break;case!("href"!=x||!_.href):k=_.href}k>""&&(i+=" "+x+'="'+k+'"')}var w=_.getAttribute("id");w>""&&(i+=' id="'+w+'"'),"a"==l&&(i+=' target="_blank"'),i+=t.parseOptions._elements_self_closing.indexOf("|"+l+"|")>-1?" />":">",c=i.length}if(t.parseOptions._elements_self_closing.indexOf("|"+l+"|")>-1);else for(var h=0,f=_.childNodes.length;f>h;h++)s(_.childNodes[h]);switch(!0){case t.parseOptions._elements_ignore_tag.indexOf("|"+l+"|")>-1:return;case t.parseOptions._elements_self_closing.indexOf("|"+l+"|")>-1:u=i.length,g=i.length;break;default:u=i.length,i+="</"+l+">",g=i.length}if(t.domainNameIs__wikipedia&&"|h1|h2|h3|h4|h5|h6|".indexOf("|"+l+"|")>-1&&(i=""+i.substr(0,c)+i.substr(c,u).replace(/<a([^>]+?)>edit<\/a>/gi,"")+i.substr(u)),t.domainNameIs__wsj&&"span"==l&&_.className&&_.className.indexOf("article-chiclet")>-1){var C=i.substr(c,u),v=C.substr(C.indexOf("<a "),C.indexOf("</a>"))+"</a>";i=""+i.substr(0,d)+"( "+v+" )"+i.substr(g)}if("iframe"==l||"embed"==l||"object"==l)return void(i=""+i.substr(0,d)+'<div class="readableLargeObjectContainer">'+i.substr(d,g-d)+"</div>");if("img"==l)if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else switch(!0){case r._is__image_skip:return t.debugOutline(_,"clean-after","skip-img"),void(i=i.substr(0,d));case r._is__image_large:return void(i=""+i.substr(0,d)+'<div class="readableLargeImageContainer'+(n(_).width()<=250&&n(_).height()>=250?" float":"")+'">'+i.substr(d,g-d).replace(/width="([^=]+?)"/gi,"").replace(/height="([^=]+?)"/gi,"")+"</div>")}if("a"==l)switch(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),!0){case 1==r._count__images_large:return void(i=""+i.substr(0,c-1)+' class="readableLinkWithLargeImage">'+i.substr(c,u-c)+"</a>");case 1==r._count__images_medium:return void(i=""+i.substr(0,c-1)+' class="readableLinkWithMediumImage">'+i.substr(c,u-c)+"</a>")}if(t.parseOptions._elements_too_much_content.indexOf("|"+l+"|")>-1)if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else switch(!0){case"h1"==l&&r._length__all_text>130:case"h2"==l&&r._length__all_text>390:case null!=l.match(/^h(3|4|5|6)$/)&&r._length__all_text>650:case null!=l.match(/^(b|i|em|strong)$/)&&r._length__all_text>1625:return t.debugOutline(_,"clean-after","too-much-content"),void(i=""+i.substr(0,d)+i.substr(c,u-c))}switch(!0){case t.parseOptions._elements_self_closing.indexOf("|"+l+"|")>-1:case t.parseOptions._elements_ignore_tag.indexOf("|"+l+"|")>-1:case"td"==l:break;default:var T=i.substr(c,u-c);T=T.replace(/(<br \/>)/gi,""),T=T.replace(/(<hr \/>)/gi,""),"tr"==l&&(T=T.replace(/<td[^>]*?>/gi,""),T=T.replace(/<\/td>/gi,"")),"table"==l&&(T=T.replace(/<tr[^>]*?>/gi,""),T=T.replace(/<\/tr>/gi,""));var O=t.measureText__getTextLength(T);if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else switch(!0){case 0==O&&"p"==l:return void(i=i.substr(0,d)+"<br /><br />");case 0==O:case 5>O&&t.parseOptions._elements_visible.indexOf("|"+l+"|")>-1:return t.debugOutline(_,"clean-after","blank"),
void(i=i.substr(0,d))}}if(t.parseOptions._elements_link_density.indexOf("|"+l+"|")>-1)if(r=r||t.getContent__exploreNodeAndGetStuff(_,!0),r&&r._is__unskippable);else{var T=i.substr(c,u-c).replace(/(<([^>]+)>)/gi,""),O=t.measureText__getTextLength(T),F=0+r._length__all_text+10*r._count__images_small+10*r._count__images_skip+10*_.getElementsByTagName("iframe").length+10*_.getElementsByTagName("object").length+10*_.getElementsByTagName("embed").length+10*_.getElementsByTagName("button").length+10*_.getElementsByTagName("input").length+10*_.getElementsByTagName("select").length+10*_.getElementsByTagName("textarea").length;switch(!0){case!(O>0):case!(F>0):case!(.5>O/F):case!("cjk"==t.language&&.1>O/F):case o&&r._length__plain_text/o._length__plain_text>.25:case"cjk"==t.language&&o&&r._length__plain_text/o._length__plain_text>.1:break;default:return t.debugOutline(_,"clean-after","missing-density"),void(i=i.substr(0,d))}}}};return s(_),i},t.getContent__find__hasIsolatedTitleInHTML=function(_){return _.substr(0,t.settings.articleTitleMarker__start.length)==t.settings.articleTitleMarker__start},t.getContent__find__getIsolatedTitleInHTML=function(_){if(!t.getContent__find__hasIsolatedTitleInHTML(_))return"";var e=new RegExp(t.settings.articleTitleMarker__start+"(.*?)"+t.settings.articleTitleMarker__end,"i"),n=_.match(e);return null==n?"":n[1]},t.getContent__find__isolateTitleInHTML=function(_,e){if(t.$document.find("body").attr(t.parseOptions._use_document_title_attribute)==t.parseOptions._use_document_title_attribute_value)return _;for(var n=[/<(h1)[^>]*?>([\s\S]+?)<\/\1>/gi,/<(h2)[^>]*?>([\s\S]+?)<\/\1>/gi,/<(h3|h4|h5|h6)[^>]*?>([\s\S]+?)<\/\1>/gi],a="|h2|h3|h4|h5|h6|",i=" "+e.replace(/<[^>]+?>/gi,"").replace(/\s+/gi," ")+" ",o=0,s=n.length;s>o;o++){var r=n[o].exec(_);switch(!0){case!r:case!(n[o].lastIndex>-1):break;default:var l=n[o].lastIndex,d=l-r[0].length,c=r[1],u=r[2].replace(/<\s*br[^>]*>/gi,"").replace(/[\n\r]+/gi,""),g=u.replace(/<[^>]+?>/gi,"").replace(/\s+/gi," "),p=t.measureText__getTextLength(g),m=[],h=_.substr(0,d),f=t.measureText__getTextLength(h.replace(/<[^>]+?>/gi,"").replace(/\s+/gi," "));switch(!0){case!(p>5):case!(195>p):case!(390>f):break;case a.indexOf("|"+c+"|")>-1:m=g.split(" ");for(var b=0,x=m.length,k="";x>b;b++)i.indexOf(" "+m[b]+" ")>-1&&(k+=m[b]+" ");var w=!1;switch(!0){case p>20&&i.indexOf(g)>-1:case p>10&&(1==i.indexOf(g)||i.indexOf(g)==i.length-1-g.length):w=!0}var C=!1;switch(!0){case w:break;case p>2*(i.length-2)&&"h2"!=c:case p<Math.ceil(.5*(i.length-2)):case 25>p&&k.length<Math.ceil(.75*p):case 50>p&&k.length<Math.ceil(.65*p):case k.length<Math.ceil(.55*p):C=!0}if(C)break;default:var v=""+t.settings.articleTitleMarker__start+g+t.settings.articleTitleMarker__end,T=_.substr(l);return T=t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__remove(T,"<div","</div>"),T=t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__add(T,"<section","</section>"),T=t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__add(T,"<article","</article>"),""+v+T}}}return _},t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__substrCount=function(_,t,e,n){var a=0;if(_+="",t+="",isNaN(e)&&(e=0),isNaN(n)&&(n=0),0==t.length)return!1;for(e--;-1!=(e=_.indexOf(t,e+1));){if(n>0&&e+t.length>n)return!1;a++}return a},t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__add=function(_,e,n){for(var a=_,i=-1,o=0,s=0;2>s&&(i=a.indexOf(n,o),i>-1);s++){var r=a.substr(0,i),l=t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__substrCount(r,e,0),d=1+t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__substrCount(r,n,0);d>l?(a=e+">"+a,o=i+1):o=i+1}return a},t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__remove=function(_,e,n){for(var a=_.replace(/^(\s*<\s*\/\s*[^>]+>)+/gi,""),i=-1,o=0,s=0;100>s&&(i=a.indexOf(n,o),i>-1);s++){var r=a.substr(0,i),l=t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__substrCount(r,e,0),d=l>0?1+t.getContent__find__isolateTitleInHTML__balanceTagsAtStart__substrCount(r,n,0):!1;!(l>0)||d>l?(a=a.substr(0,i)+a.substr(i+n.length),o=i):o=i+1}return a},t.getContent__findInPage=function(_){var e=!1,a=!1,i=!1;t.debugTimerStart("ExploreAndGetStuff");var o=t.getContent__exploreNodeAndGetStuff(_.document.body);t.debugRemember("ExploreAndGetStuff",t.debugTimerEnd()+"ms"),t.debugTimerStart("ProcessFirst");var s=t.getContent__processCandidates__first(o._candidates);if(e=s[0],i=e,t.debugRemember("ProcessFirst",t.debugTimerEnd()+"ms"),t.debug){t.log("First 5 Main Candidates:");for(var r in s){if(5==r)break;t.log(s[r],s[r].__node)}t.debugOutline(e.__node,"target","first")}t.debugRemember("Target","first");var l=t.parseOptions._find_this_in_page_attribute,d=l>""?t.$document.find("body").attr(l):"",c=d>""?t.document.getElementById(d):!1;switch(!0){case!!c:t.log("Using specified target element."),i={__node:c};break;case!(e._count__containers>0):case!(e._count__candidates>0):case!(e._count__pieces>0):case!(e._count__containers>25):break;default:t.debugTimerStart("ProcessSecond");var u=t.getContent__processCandidates__second(s);if(a=u[0],t.debugRemember("ProcessSecond",t.debugTimerEnd()+"ms"),e.__node==a.__node)break;if(t.debug){t.log("First 5 Second Candidates:");for(var r in u){if(5==r)break;t.log(u[r],u[r].__node)}t.debugOutline(a.__node,"target","second")}switch(e.__points_history_final=t.getContent__computePointsForCandidate__third(e,e),e.__points_final=e.__points_history_final[0],a.__points_history_final=t.getContent__computePointsForCandidate__third(a,e),a.__points_final=a.__points_history_final[0],t.debug&&(t.log("The 2 Candidates:"),t.log(e),t.log(a)),!0){case a.__candidate_details._count__lines_of_65_characters<20&&a.__points_final/e.__points_final>1:case a.__candidate_details._count__lines_of_65_characters>20&&a.__points_final/e.__points_final>.9:case a.__candidate_details._count__lines_of_65_characters>50&&a.__points_final/e.__points_final>.75:i=a,t.debugRemember("Target","second")}t.debug&&(t.debugRemember("PointsFirst",e.__points_history_final[0].toFixed(2)),t.debugRemember("PointsSecond",a.__points_history_final[0].toFixed(2)))}t.debug&&n(i.__node).css({"box-shadow":"inset 0px 0px 50px rgba(255, 255, 0, 0.95), 0px 0px 50px rgba(255, 255, 0, 0.95)"}),t.debugTimerStart("BuildHTML");var g=t.getContent__buildHTMLForNode(i.__node,"the-target");return g=g.substr(g.indexOf(">")+1),g=g.substr(0,g.lastIndexOf("<")),t.debugRemember("BuildHTML",t.debugTimerEnd()+"ms"),t.debugTimerStart("BuildHTMLPregs"),g=g.replace(/<span([^>]*?)>p<\/span>\s*?<\/(div|h1|h2|h3|h4|h5|h6|li|p|span)/gi,"</$2"),g=g.replace(/<(\/)?span([^>]*?)>/gi,""),g=g.replace(/<(blockquote|div|p|td|li)([^>]*)>(\s*<br \/>)+/gi,"<$1$2>"),g=g.replace(/(<br \/>\s*)+<\/(blockquote|div|p|td|li)>/gi,"</$2>"),g=g.replace(/(<br \/>\s*)+<(blockquote|div|h\d|ol|p|table|ul|li)([^>]*)>/gi,"<$2$3>"),g=g.replace(/<\/(blockquote|div|h\d|ol|p|table|ul|li)>(\s*<br \/>)+/gi,"</$1>"),g=g.replace(/(<hr \/>\s*<hr \/>\s*)+/gi,"<hr />"),g=g.replace(/(<br \/>\s*<br \/>\s*)+/gi,"<br /><br />"),t.debugRemember("BuildHTMLPregs",t.debugTimerEnd()+"ms"),{_html:g,_links:o._links,_targetCandidate:i,_firstCandidate:e}},t.start=function(){t.detectLanguage();var _=t.getContent__findInPage(t.window),e=_._links,a=_._targetCandidate.__node,i=n(a),o=[];switch(!0){case"rtl"==i.attr("dir"):case"rtl"==i.css("direction"):t.makeRTL()}var s=_._html,r=t.nextPage__getFirstFragment(s),l=t.document.title>""?t.escape_html(t.document.title):"",d=t.$document.find("meta[property='og:title']");if(d&&d.length>0&&(l=t.escape_html(d.attr("content"))),s=t.getContent__find__isolateTitleInHTML(s,l),t.articleTitle=t.getContent__find__getIsolatedTitleInHTML(s),t.debugRemember("TitleSource","target"),t.articleTitle>"");else{var c=_._targetCandidate.__node,u="",g="",p=_._firstCandidate.__node!=_._targetCandidate.__node;switch(function(){for(;;){switch(!0){case c.tagName&&"body"==c.tagName.toLowerCase():case p&&c==_._firstCandidate.__node:return}if(c.previousSibling)switch(c=c.previousSibling,t.debug&&t.debugOutline(c,"target","add-above"),u=t.getContent__buildHTMLForNode(c,"above-the-target"),g=u+g,o.unshift(c),g=t.getContent__find__isolateTitleInHTML(g,l),!0){case t.measureText__getTextLength(g.replace(/<[^>]+?>/gi,"").replace(/\s+/gi," "))>585:case t.getContent__find__hasIsolatedTitleInHTML(g):return}else c=c.parentNode}}(),!0){case t.getContent__find__hasIsolatedTitleInHTML(g):case p&&g.split("<a ").length<3&&t.measureText__getTextLength(g.replace(/<[^>]+?>/gi,"").replace(/\s+/gi," "))<195:s=g+s;break;default:g="",o=[]}t.articleTitle=t.getContent__find__getIsolatedTitleInHTML(s),t.debugRemember("TitleSource","above_HTML"),t.articleTitle>""||(!function(){if(l>""){for(var _=[],e=[/( [-][-] |( [-] )|( [>][>] )|( [<][<] )|( [|] )|( [\/] ))/i,/(([:] ))/i],n=0,a=e.length;a>n&&(_=l.split(e[n]),!(_.length>1));n++);_.sort(function(_,t){switch(!0){case _.length>t.length:return-1;case _.length<t.length:return 1;default:return 0}}),s=""+t.settings.articleTitleMarker__start+(_[0].split(/\s+/i).length>1?_[0]:l)+t.settings.articleTitleMarker__end+s}}(),t.articleTitle=t.getContent__find__getIsolatedTitleInHTML(s),t.debugRemember("TitleSource","document_title"))}t.debugRemember("theTarget",_._targetCandidate.__node),t.debugRemember("firstCandidate",_._firstCandidate.__node),t.nextPage__firstFragment__firstPage=r,t.nextPage__firstFragment__lastPage=t.nextPage__getFirstFragment(s),t.nextPage__firstLinks=e;var m={_html:s,_title:t.articleTitle,_language:t.language,_rtl:t.rtl,_rtl_maybe:t.maybeRTL};m._elements=o,m._elements.push(_._targetCandidate.__node),t.callbacks.finished(m)},t},htmlscrape_detect});